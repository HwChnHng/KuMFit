<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>KuMFit ëŒ€ì‹œë³´ë“œ</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="page">
<header class="top-bar">
<div class="logo">KuMFit</div>
<div class="user-info">
<span class="user-name">ì•ˆë…•í•˜ì„¸ìš”, ì‚¬ìš©ìë‹˜ ğŸ‘‹</span>
</div>
</header>


<main class="main-layout">
    <!-- ì™¼ìª½: ì¶”ì²œ ë¹„êµê³¼ -->
    <section class="panel">
        <div class="panel-header">
            <h2>ì¶”ì²œ ë¹„êµê³¼</h2>
            <div class="recommend-filters" id="category-chips">
    <button type="button" class="chip {% if current_category == 'all' %}active{% endif %}" data-category="all">ì „ì²´</button>
    <button type="button" class="chip {% if current_category == 'genl' %}active{% endif %}" data-category="genl">ì¼ë°˜ë¹„êµê³¼</button>
    <button type="button" class="chip {% if current_category == 'emplym' %}active{% endif %}" data-category="emplym">ì·¨ì°½ì—…ë¹„êµê³¼</button>
    <button type="button" class="chip {% if current_category == 'grup' %}active{% endif %}" data-category="grup">ë‹¨ê³¼ëŒ€ë¹„êµê³¼</button>
	   </div>

        </div>
        <div class="panel-body">
        {% if recommendations %}
            <table class="table">
                <thead>
                    <tr>
                        <th>ì œëª©</th>
                        <th>ë¶„ë¥˜</th>
                        <th>ìƒíƒœ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in recommendations %}
                    <tr>
                        <td>{{ item.title }}</td>
                        <td>{{ item.category }}</td>
                        <td>
                            <span class="badge
                                {% if item.status == 'ì‹ ì²­ê°€ëŠ¥' %} badge-green
                                {% elif item.status == 'ëŒ€ê¸°ì‹ ì²­' %} badge-yellow
                                {% else %} badge-gray
                                {% endif %}
                            ">
                                {{ item.status }}
                            </span>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="empty-text">í˜„ì¬ ì¶”ì²œëœ ë¹„êµê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>
    </section>

    <!-- ì˜¤ë¥¸ìª½: ìœ„ì¸ì „ í¬ë¡¤ëŸ¬ ê²°ê³¼ -->
   <section class="panel">
    <div class="panel-header">
        <h2>ìœ„ì¸ì „ í”„ë¡œê·¸ë¨ í˜„í™©</h2>
        <button class="btn btn-outline" disabled>1ì‹œê°„ë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸</button>
    </div>
    <div class="panel-body">
        {% if wein_programs %}
            <ul class="program-list">
                {% for prog in wein_programs %}
                <li class="program-item">
                    <div class="program-title">{{ prog.title }}</div>

                    {% if prog.apply_period %}
                    <div class="program-period">
                        ì‹ ì²­ê¸°ê°„: {{ prog.apply_period }}
                    </div>
                    {% endif %}

                    <div class="program-meta">
                        <span class="badge
                            {% if prog.status == 'ì‹ ì²­' or prog.status == 'ì‹ ì²­ê°€ëŠ¥' %} badge-green
                            {% elif prog.status == 'ëŒ€ê¸°ì‹ ì²­' %} badge-yellow
                            {% else %} badge-gray
                            {% endif %}
                        ">
                            {{ prog.status }}
                        </span>
                    </div>
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="empty-text">í˜„ì¬ ìˆ˜ì§‘ëœ ìœ„ì¸ì „ í”„ë¡œê·¸ë¨ì´ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>
</section>

	
        


                 
</main>

<footer class="footer">
    <span>Â© 2025 KuMFit Team 2ì¡°</span>
</footer>



</div>
</body>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const chips = document.querySelectorAll("#category-chips .chip");

    chips.forEach(chip => {
        chip.addEventListener("click", () => {
            // ëª¨ë“  chipì—ì„œ active ì œê±°
            chips.forEach(c => c.classList.remove("active"));

            // í´ë¦­í•œ chipì— active ì¶”ê°€
            chip.classList.add("active");

            // ì„ íƒëœ ë¶„ë¥˜ category ê°’ ê°€ì ¸ì˜¤ê¸°
            const category = chip.dataset.category;

            // í˜ì´ì§€ ì´ë™ -> Flaskë¡œ ì „ë‹¬
            window.location.href = `/?category=${category}`;
        });
    });

    // í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ ë°˜ì˜
    const currentCategory = "{{ current_category }}";
    chips.forEach(chip => {
        if (chip.dataset.category === currentCategory) {
            chip.classList.add("active");
        }
    });
});
</script>

</html>